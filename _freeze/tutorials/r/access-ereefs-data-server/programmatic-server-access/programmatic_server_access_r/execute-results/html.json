{
  "hash": "0709bdaf290fb79af0083d54badcf782",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Access eReefs data\"\nsubtitle: \"Programmatic server access {{< fa brands r-project >}}\"\n---\n\n\n\n:::{.tutorial-description}\nLearn how to extract eReefs data from the AIMS eReefs THREDDS server for multiple dates and points with\nOPeNDAP in {{< fa brands r-project >}}.\n:::\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n:::{.callout-note appearance=\"simple\"}\nThis tutorial builds on the techniques introduced in [Access eReefs data: Basic server access\n{{< fa brands r-project >}}](../basic-server-access/basic_server_access_r.qmd).\n:::\n\nIn this tutorial we will look at how to get eReefs data from the\n[AIMS eReefs THREDDS server](https://thredds.ereefs.aims.gov.au/thredds/catalog/catalog.html) corresponding\nto the logged locations of tagged marine animals. Keep in mind, however, that the same methodology can be\napplied in any situation where we wish to extract eReefs data for a range of points with different dates of\ninterest for each point.\n\n## Preparation\n\nCreate a folder named `data`.\n\nDownload the\n[satellite tracking data file](data/Strydom_2022_DOI10-15468-k4s6ap.csv)\ninto your `data` folder.\n\n## R packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(RNetCDF) # to access server data files via OPeNDAP\nlibrary(readr) # to efficiently read in data\nlibrary(janitor) # to create consistent, 'clean' variable names\nlibrary(tidyverse) # for data manipulation and plotting with ggplot2\nlibrary(lubridate) # for working with date and time variables\nlibrary(leaflet) # to create an interactive map of the tracking locations\nlibrary(knitr); library(kableExtra) # for better table printing\n```\n:::\n\n\n\n## Motivating problem\n\nThe tracking of marine animals is commonly used by researchers to gain insights into the distribution,\nbiology, behaviour and ecology of different species. However, knowing where an animal was at a certain point\nin time is only one piece of the puzzle. To start to understand *why* an animal was where it was, we usually\nrequire information on things like: What type of habitat is present at the location? What were the\nenvironmental conditions like at the time? What other lifeforms were present at the tracked location\n(e.g. for food or mating)?\n\nIn this tutorial we will pretend that we have tracking data for Loggerhead Sea Turtles and wish to get eReefs\ndata corresponding to the tracked points (in time and space) to understand more about the likely\nenvironmental conditions experienced by our turtles.\n\n:::{.callout-note collapse=\"true\" icon=\"false\"}\n\n# Read more: Tracking marine animals\n\nMarine animals are typically tracked using either acoustic or satellite tags. These tags are attached to the\nanimals and transmit signals back to receivers, logging the animal's location at different points in time. In\nsome cases other data such as depth, temperature, and animal movement profiles are recorded and the data\ntransmitted to the receivers whenever possible.\n\nAcoustic tracking requires a network of receivers to be placed in the ocean in order to pick up the tags'\ntransmitted signals when they come within range (typically around 500 m). Acoustic tracking has the advantage\nof being able transmit and receive signals underwater, however is limited by the coverage of the receiver\nnetwork. In some instances, researchers do without the receiver network and follow the animals around in a\nboat to receive the data. The suitability of acoustic tracking depends on the study species and research\nquestion.\n\nSatellite tracking, on the other hand, is able to track animals over virtually the entire ocean as the tags\ntransmit signals to a network of satellites orbiting the earth. However, unlike acoustic tags, the signals\ncannot be transmitted through water and the tagged animals must breach the ocean surface in order to have\ntheir location logged and any other recorded data be received. The accuracy of the logged location depends\non the quality of the transmitted signal. For high-quality signals, the location uncertainty can be in the\nhundreds of metres, however for bad quality signals this can blow out to over 10 km.\n\n:::\n\n## Example tracking data\n\nWe will use satellite tracking data for Loggerhead Sea Turtles (*Caretta caretta*) provided in\n[Strydom (2022)](https://doi.org/10.15468/k4s6ap). This data contains tracking detections which span the\nlength of the Great Barrier Reef off the east coast of Queensland Australia from December 2021 to April 2022\n(shown in @fig-data-map).\n\nDownload the\n[satellite tracking data file](data/Strydom_2022_DOI10-15468-k4s6ap.csv)\ninto your `data` folder.\n\n:::{.callout-caution appearance=\"simple\"}\nThis dataset is a summarised representation of the tracking locations per 1-degree cell. This implies a\ncoordinate uncertainty of roughly 110 km. This level of uncertainty renders the data virtually useless for\nmost practical applications, though it will suffice for the purposes of this tutorial. Records which are\nlandbased as a result of the uncertainty have been removed and from here on in we will just pretend that the\ncoordinates are accurate.\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Read in data\nloggerhead_data <- read_csv(\"data/Strydom_2022_DOI10-15468-k4s6ap.csv\") |>\n  clean_names() |> # clean up variable names\n  rename( # rename variables for easier use\n    record_id = gbif_id,\n    latitude = decimal_latitude,\n    longitude = decimal_longitude,\n    date_time = event_date\n  )\n\n# Remove land based records (as a result of coordinate uncertainty)\nland_based_records <- c(4022992331, 4022992326, 4022992312, 4022992315, 4022992322, 4022992306)\nloggerhead_data <- loggerhead_data |>\n  dplyr::filter(!(record_id %in% land_based_records))\n\n# Select the variables relevant to this tutorial\nloggerhead_data <- loggerhead_data |>\n  select(longitude, latitude, date_time, record_id, species)\n\n# View the tracking locations on an interactive map\nloggerhead_data |>\n  leaflet() |>\n  addTiles() |>\n  addMarkers(label = ~date_time)\n```\n\n::: {#fig-data-map .cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-604999d367b1245054ec\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-604999d367b1245054ec\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]},{\"method\":\"addMarkers\",\"args\":[[-20.5,-25.5,-24.5,-18.5,-14.5,-26.5,-19.5,-10.5,-20.5,-22.5,-21.5,-11.5,-19.5,-18.5,-24.5,-15.5,-16.5,-13.5,-21.5,-12.5,-9.5,-23.5,-16.5,-23.5,-17.5],[150.5,153.5,152.5,147.5,145.5,153.5,148.5,143.5,149.5,151.5,150.5,143.5,149.5,146.5,153.5,145.5,145.5,144.5,151.5,143.5,143.5,152.5,146.5,151.5,146.5],null,null,null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},null,null,null,null,[\"2022-01-17 17:06:32\",\"2022-01-02 21:49:55\",\"2021-12-21 17:57:22\",\"2022-01-27 17:00:04\",\"2022-02-12 10:34:12\",\"2022-02-12 08:59:01\",\"2022-01-23 07:02:18\",\"2022-04-14 06:31:48\",\"2022-01-19 17:44:38\",\"2022-01-09 20:25:01\",\"2022-01-14 18:26:17\",\"2022-04-09 22:00:54\",\"2022-01-21 07:22:08\",\"2022-01-30 17:02:42\",\"2022-02-03 21:37:56\",\"2022-02-09 18:33:03\",\"2022-02-07 07:15:30\",\"2022-03-25 07:10:49\",\"2022-01-13 06:28:09\",\"2022-04-01 18:41:42\",\"2022-04-21 10:30:09\",\"2022-01-05 07:33:53\",\"2022-02-06 18:25:38\",\"2022-01-06 05:03:23\",\"2022-02-02 09:14:56\"],{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"limits\":{\"lat\":[-26.5,-9.5],\"lng\":[143.5,153.5]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n\nLoggerhead Sea Turtle satellite tracking records (December 2021 - April 2022)\n:::\n:::\n\n\n\n\n## Extracting data from the server\n\nWe will extend the basic methods introduced in  the preceding tutorial\n[Accessing eReefs data from the AIMS eReefs THREDDS server](../basic-server-access/basic_server_access_r.qmd)\nto extract data for a set of points and dates.\n\nWe will extract the eReefs daily mean temperature (`temp`), salinity (`salt`), and east- and northward\ncurrent velocities (`u` and `v`) corresponding to the coordinates and dates for the tracking detections shown\nin @tbl-detections.\n\n\n\n\n::: {#tbl-detections .cell tbl-cap='Loggerhead Sea Turtle detections (Strydom, 2022)'}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show code to produce table\"}\n# Print table of tracking detections (Strydom, 2022)\nloggerhead_data |>\n  arrange(date_time) |>\n  mutate(date = format(date_time, \"%Y-%m-%d\"), time = format(date_time, \"%H:%M\")) |>\n  select(date, time, longitude, latitude) |>\n  kable() |> kable_styling() |> scroll_box(height = \"300px\", fixed_thead = TRUE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; \"><table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> date </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> time </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> longitude </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> latitude </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 2021-12-21 </td>\n   <td style=\"text-align:left;\"> 17:57 </td>\n   <td style=\"text-align:right;\"> 152.5 </td>\n   <td style=\"text-align:right;\"> -24.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-02 </td>\n   <td style=\"text-align:left;\"> 21:49 </td>\n   <td style=\"text-align:right;\"> 153.5 </td>\n   <td style=\"text-align:right;\"> -25.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-05 </td>\n   <td style=\"text-align:left;\"> 07:33 </td>\n   <td style=\"text-align:right;\"> 152.5 </td>\n   <td style=\"text-align:right;\"> -23.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-06 </td>\n   <td style=\"text-align:left;\"> 05:03 </td>\n   <td style=\"text-align:right;\"> 151.5 </td>\n   <td style=\"text-align:right;\"> -23.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-09 </td>\n   <td style=\"text-align:left;\"> 20:25 </td>\n   <td style=\"text-align:right;\"> 151.5 </td>\n   <td style=\"text-align:right;\"> -22.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-13 </td>\n   <td style=\"text-align:left;\"> 06:28 </td>\n   <td style=\"text-align:right;\"> 151.5 </td>\n   <td style=\"text-align:right;\"> -21.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-14 </td>\n   <td style=\"text-align:left;\"> 18:26 </td>\n   <td style=\"text-align:right;\"> 150.5 </td>\n   <td style=\"text-align:right;\"> -21.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-17 </td>\n   <td style=\"text-align:left;\"> 17:06 </td>\n   <td style=\"text-align:right;\"> 150.5 </td>\n   <td style=\"text-align:right;\"> -20.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-19 </td>\n   <td style=\"text-align:left;\"> 17:44 </td>\n   <td style=\"text-align:right;\"> 149.5 </td>\n   <td style=\"text-align:right;\"> -20.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-21 </td>\n   <td style=\"text-align:left;\"> 07:22 </td>\n   <td style=\"text-align:right;\"> 149.5 </td>\n   <td style=\"text-align:right;\"> -19.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-23 </td>\n   <td style=\"text-align:left;\"> 07:02 </td>\n   <td style=\"text-align:right;\"> 148.5 </td>\n   <td style=\"text-align:right;\"> -19.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-27 </td>\n   <td style=\"text-align:left;\"> 17:00 </td>\n   <td style=\"text-align:right;\"> 147.5 </td>\n   <td style=\"text-align:right;\"> -18.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-30 </td>\n   <td style=\"text-align:left;\"> 17:02 </td>\n   <td style=\"text-align:right;\"> 146.5 </td>\n   <td style=\"text-align:right;\"> -18.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-02 </td>\n   <td style=\"text-align:left;\"> 09:14 </td>\n   <td style=\"text-align:right;\"> 146.5 </td>\n   <td style=\"text-align:right;\"> -17.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-03 </td>\n   <td style=\"text-align:left;\"> 21:37 </td>\n   <td style=\"text-align:right;\"> 153.5 </td>\n   <td style=\"text-align:right;\"> -24.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-06 </td>\n   <td style=\"text-align:left;\"> 18:25 </td>\n   <td style=\"text-align:right;\"> 146.5 </td>\n   <td style=\"text-align:right;\"> -16.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-07 </td>\n   <td style=\"text-align:left;\"> 07:15 </td>\n   <td style=\"text-align:right;\"> 145.5 </td>\n   <td style=\"text-align:right;\"> -16.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-09 </td>\n   <td style=\"text-align:left;\"> 18:33 </td>\n   <td style=\"text-align:right;\"> 145.5 </td>\n   <td style=\"text-align:right;\"> -15.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-12 </td>\n   <td style=\"text-align:left;\"> 08:59 </td>\n   <td style=\"text-align:right;\"> 153.5 </td>\n   <td style=\"text-align:right;\"> -26.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-12 </td>\n   <td style=\"text-align:left;\"> 10:34 </td>\n   <td style=\"text-align:right;\"> 145.5 </td>\n   <td style=\"text-align:right;\"> -14.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-03-25 </td>\n   <td style=\"text-align:left;\"> 07:10 </td>\n   <td style=\"text-align:right;\"> 144.5 </td>\n   <td style=\"text-align:right;\"> -13.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-04-01 </td>\n   <td style=\"text-align:left;\"> 18:41 </td>\n   <td style=\"text-align:right;\"> 143.5 </td>\n   <td style=\"text-align:right;\"> -12.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-04-09 </td>\n   <td style=\"text-align:left;\"> 22:00 </td>\n   <td style=\"text-align:right;\"> 143.5 </td>\n   <td style=\"text-align:right;\"> -11.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-04-14 </td>\n   <td style=\"text-align:left;\"> 06:31 </td>\n   <td style=\"text-align:right;\"> 143.5 </td>\n   <td style=\"text-align:right;\"> -10.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-04-21 </td>\n   <td style=\"text-align:left;\"> 10:30 </td>\n   <td style=\"text-align:right;\"> 143.5 </td>\n   <td style=\"text-align:right;\"> -9.5 </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n:::\n\n\n\n<br>\n\nWe will take advantage of the consistent file naming on the server to extract the data of interest\nprogrammatically. We will first need to copy the OPeNDAP data link for one of the files within the correct\nmodel and aggregation folders and then replace the date.\n\nSelecting a random date within the daily aggregated data with one data file per day (`daily-daily`) for the\n1km hydro model (`gbr1_2.0`), we see the files have the naming format:\n\n`https://thredds.ereefs.aims.gov.au/thredds/dodsC/ereefs/gbr1_2.0/daily-daily/EREEFS_AIMS-CSIRO_gbr1_2.0_hydro_daily-daily-`[YYYY-MM-DD]{style=\"color: red\"}`.nc`\n\nWe will now write a script which extracts the data for the dates and coordinates in @tbl-detections. For each\nunique date we will open the corresponding file on the server and extract the daily mean temperature,\nsalinity, northward and southward current velocities for each set of coordinates corresponding to the date.\n\n\n\n::: {.cell}\n\n```{.r .cell-code .code-overflow-wrap}\n# GET DATA FOR EACH DATE AND COORDINATE (LAT LON) PAIR\nt_start = Sys.time() # to track run time of extraction\n\n## 1. Setup variables for data extraction\n# Server file name = <file_prefix><date (yyyy-mm-dd)><file_suffix>\nfile_prefix <- \"https://thredds.ereefs.aims.gov.au/thredds/dodsC/ereefs/gbr1_2.0/daily-daily/EREEFS_AIMS-CSIRO_gbr1_2.0_hydro_daily-daily-\"\nfile_suffix <- \".nc\"\n\n# Table of dates and coordinates for which to extract data (dates as character string)\ndetections <- loggerhead_data |>\n  mutate(date = as.character(as_date(date_time))) |>\n  select(date, longitude, latitude) |>\n  distinct()\n\nextracted_data <- data.frame() # to save the extracted data\ndates <- unique(detections$date) # unique dates for which to open server files\n\n## 2. For each date of interest, open a connection to the corresponding data file on the server\nfor (i in 1:length(dates)) {\n  date_i <- dates[i]\n\n  # Open file\n  file_name_i <- paste0(file_prefix, date_i, file_suffix)\n  server_file_i <- open.nc(file_name_i)\n\n  # Coordinates for which to extract data for the current date\n  coordinates_i <- detections |> dplyr::filter(date == date_i)\n\n  # Get all coordinates in the open file (each representing the center-point of the corresponding grid cell)\n  server_lons_i <- var.get.nc(server_file_i, \"longitude\")\n  server_lats_i <- var.get.nc(server_file_i, \"latitude\")\n\n  ## 3. For each coordinate (lon, lat) for the current date, get the data for the closest grid cell (1km^2) from the open server file\n  for (j in 1:nrow(coordinates_i)) {\n\n    # Current coordinate of interest\n    lon_j <- coordinates_i[j,]$longitude\n    lat_j <- coordinates_i[j,]$latitude\n\n    # Find the index of the grid cell containing our coordinate of interest (i.e. the center-point closest to our point of interest)\n    lon_index <- which.min(abs(server_lons_i - lon_j))\n    lat_index <- which.min(abs(server_lats_i - lat_j))\n\n    # Setup start vector arguments for RNetCDF::var.get.nc (same for temp, salt, currents u & v)\n    ###################################\n    # Recall the order of the dimensions (longitude, latitude, k, time) from the previous tutorial. Therefore we want [lon_index, lat_index, k = 16 corresponding to a depth of 0.5m, time = 1 (as we're using the daily files this is the only option)]. If you are still confused go back to the previous tutorial or have a look at the structure of one of the server files by uncommenting the following 5 lines of code:\n    # not_yet_run = TRUE  # used so the following lines are only run once\n    # if (not_yet_run) {\n    #   print.nc(server_file_i)\n    #   not_yet_run = FALSE\n    # }\n    ##################################\n    start_j <- c(lon_index, lat_index, 16, 1) # k = 16 corresponds to depth = 0.5m\n    count_j <- c(1, 1, 1, 1) # only extracting a single value for each variable\n\n    # Get the data for the grid cell containing our point of interest\n    temp_j <- var.get.nc(server_file_i, \"temp\", start_j, count_j)\n    salt_j <- var.get.nc(server_file_i, \"salt\", start_j, count_j)\n    u_j <- var.get.nc(server_file_i, \"u\", start_j, count_j)\n    v_j <- var.get.nc(server_file_i, \"v\", start_j, count_j)\n    extracted_data_j <- data.frame(date_i, lon_j, lat_j, temp_j, salt_j, u_j, v_j)\n\n    ## 4. Save data in memory and repeat for next date-coordinate pair\n    extracted_data <- rbind(extracted_data, extracted_data_j)\n  }\n  # Close connection to open server file and move to the next date\n  close.nc(server_file_i)\n}\n\n# Calculate the run time of the extraction\nt_stop <- Sys.time()\nextract_time <- t_stop - t_start\n\n# Rename the extracted data columns\ncolnames(extracted_data) <- c(\"date\", \"lon\", \"lat\", \"temp\", \"salt\", \"u\", \"v\")\n```\n:::\n\n\n\n:::{.callout-caution appearance=\"simple\"}\nIn the code above we match the closest eReefs model grid cell to each point in our list of coordinates\n(i.e. for each tracking detection). This will therefore match grid cells to all the coordinates, even if they\nare not within the eReefs model boundary. This behaviour may be useful when we have points right along the\ncoastline as the eReefs models have small gaps at many points along the coast (see image below). However, in\nother cases this behaviour may not be desirable. For example, if we had points down near Sydney they would be\nmatched to the closest eReefs grid cells (somewhere up near Brisbane) and the extracted data would be\nerroneous.\n\n[![](images/ereefs_model_boundary_and_grid_cells.jpeg)](images/ereefs_model_boundary_and_grid_cells.jpeg)\n:::\n\nOur extracted data is shown below in @tbl-extracted-data. To get this data we opened 24 files\non the server (corresponding to unique dates in @tbl-detections) and extracted data for 25\nunique date-coordinate pairs. On our machine this took\n1.2 mins to run.\n\n\n\n::: {#tbl-extracted-data .cell tbl-cap='Extracted daily mean temperature, salinity, and east- and northward current velocities (u, v respectively) for Loggerhead Sea Turtle detections (Strydom, 2022)'}\n\n```{.r .cell-code}\n# Print the extracted data\nextracted_data |> kable() |> kable_styling() |> scroll_box(height = \"300px\", fixed_thead = TRUE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; \"><table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> date </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> lon </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> lat </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> temp </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> salt </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> u </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> v </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-17 </td>\n   <td style=\"text-align:right;\"> 150.5 </td>\n   <td style=\"text-align:right;\"> -20.5 </td>\n   <td style=\"text-align:right;\"> 29.39174 </td>\n   <td style=\"text-align:right;\"> 35.33709 </td>\n   <td style=\"text-align:right;\"> -0.0659649 </td>\n   <td style=\"text-align:right;\"> -0.1778789 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-02 </td>\n   <td style=\"text-align:right;\"> 153.5 </td>\n   <td style=\"text-align:right;\"> -25.5 </td>\n   <td style=\"text-align:right;\"> 26.00014 </td>\n   <td style=\"text-align:right;\"> 35.29583 </td>\n   <td style=\"text-align:right;\"> -0.0353987 </td>\n   <td style=\"text-align:right;\"> 0.0375804 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2021-12-21 </td>\n   <td style=\"text-align:right;\"> 152.5 </td>\n   <td style=\"text-align:right;\"> -24.5 </td>\n   <td style=\"text-align:right;\"> 28.09089 </td>\n   <td style=\"text-align:right;\"> 35.25638 </td>\n   <td style=\"text-align:right;\"> 0.0713334 </td>\n   <td style=\"text-align:right;\"> -0.0199901 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-27 </td>\n   <td style=\"text-align:right;\"> 147.5 </td>\n   <td style=\"text-align:right;\"> -18.5 </td>\n   <td style=\"text-align:right;\"> 29.46284 </td>\n   <td style=\"text-align:right;\"> 33.98060 </td>\n   <td style=\"text-align:right;\"> 0.2652802 </td>\n   <td style=\"text-align:right;\"> 0.0044857 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-12 </td>\n   <td style=\"text-align:right;\"> 145.5 </td>\n   <td style=\"text-align:right;\"> -14.5 </td>\n   <td style=\"text-align:right;\"> 29.89639 </td>\n   <td style=\"text-align:right;\"> 34.71634 </td>\n   <td style=\"text-align:right;\"> -0.0812021 </td>\n   <td style=\"text-align:right;\"> 0.0344770 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-12 </td>\n   <td style=\"text-align:right;\"> 153.5 </td>\n   <td style=\"text-align:right;\"> -26.5 </td>\n   <td style=\"text-align:right;\"> 26.79947 </td>\n   <td style=\"text-align:right;\"> 35.38062 </td>\n   <td style=\"text-align:right;\"> -0.1235716 </td>\n   <td style=\"text-align:right;\"> 0.0057869 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-23 </td>\n   <td style=\"text-align:right;\"> 148.5 </td>\n   <td style=\"text-align:right;\"> -19.5 </td>\n   <td style=\"text-align:right;\"> 28.98567 </td>\n   <td style=\"text-align:right;\"> 35.26142 </td>\n   <td style=\"text-align:right;\"> -0.1370672 </td>\n   <td style=\"text-align:right;\"> -0.0219267 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-04-14 </td>\n   <td style=\"text-align:right;\"> 143.5 </td>\n   <td style=\"text-align:right;\"> -10.5 </td>\n   <td style=\"text-align:right;\"> 29.47597 </td>\n   <td style=\"text-align:right;\"> 34.41768 </td>\n   <td style=\"text-align:right;\"> -0.0409690 </td>\n   <td style=\"text-align:right;\"> 0.0776469 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-19 </td>\n   <td style=\"text-align:right;\"> 149.5 </td>\n   <td style=\"text-align:right;\"> -20.5 </td>\n   <td style=\"text-align:right;\"> 29.91821 </td>\n   <td style=\"text-align:right;\"> 35.47683 </td>\n   <td style=\"text-align:right;\"> 0.0181383 </td>\n   <td style=\"text-align:right;\"> -0.1044010 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-09 </td>\n   <td style=\"text-align:right;\"> 151.5 </td>\n   <td style=\"text-align:right;\"> -22.5 </td>\n   <td style=\"text-align:right;\"> 29.24492 </td>\n   <td style=\"text-align:right;\"> 35.33996 </td>\n   <td style=\"text-align:right;\"> 0.0007144 </td>\n   <td style=\"text-align:right;\"> -0.1032533 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-14 </td>\n   <td style=\"text-align:right;\"> 150.5 </td>\n   <td style=\"text-align:right;\"> -21.5 </td>\n   <td style=\"text-align:right;\"> 28.98728 </td>\n   <td style=\"text-align:right;\"> 35.40287 </td>\n   <td style=\"text-align:right;\"> -0.0638922 </td>\n   <td style=\"text-align:right;\"> -0.0470999 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-04-09 </td>\n   <td style=\"text-align:right;\"> 143.5 </td>\n   <td style=\"text-align:right;\"> -11.5 </td>\n   <td style=\"text-align:right;\"> 29.93064 </td>\n   <td style=\"text-align:right;\"> 34.55591 </td>\n   <td style=\"text-align:right;\"> -0.0967079 </td>\n   <td style=\"text-align:right;\"> 0.1442562 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-21 </td>\n   <td style=\"text-align:right;\"> 149.5 </td>\n   <td style=\"text-align:right;\"> -19.5 </td>\n   <td style=\"text-align:right;\"> 29.57756 </td>\n   <td style=\"text-align:right;\"> 35.11963 </td>\n   <td style=\"text-align:right;\"> -0.1611882 </td>\n   <td style=\"text-align:right;\"> -0.0347497 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-30 </td>\n   <td style=\"text-align:right;\"> 146.5 </td>\n   <td style=\"text-align:right;\"> -18.5 </td>\n   <td style=\"text-align:right;\"> 30.14936 </td>\n   <td style=\"text-align:right;\"> 34.59603 </td>\n   <td style=\"text-align:right;\"> -0.1835063 </td>\n   <td style=\"text-align:right;\"> 0.1426468 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-03 </td>\n   <td style=\"text-align:right;\"> 153.5 </td>\n   <td style=\"text-align:right;\"> -24.5 </td>\n   <td style=\"text-align:right;\"> 27.06327 </td>\n   <td style=\"text-align:right;\"> 35.32142 </td>\n   <td style=\"text-align:right;\"> 0.5498420 </td>\n   <td style=\"text-align:right;\"> -0.7972959 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-09 </td>\n   <td style=\"text-align:right;\"> 145.5 </td>\n   <td style=\"text-align:right;\"> -15.5 </td>\n   <td style=\"text-align:right;\"> 29.54386 </td>\n   <td style=\"text-align:right;\"> 34.74210 </td>\n   <td style=\"text-align:right;\"> -0.1198241 </td>\n   <td style=\"text-align:right;\"> 0.0636992 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-07 </td>\n   <td style=\"text-align:right;\"> 145.5 </td>\n   <td style=\"text-align:right;\"> -16.5 </td>\n   <td style=\"text-align:right;\"> 30.37080 </td>\n   <td style=\"text-align:right;\"> 34.06056 </td>\n   <td style=\"text-align:right;\"> -0.1037723 </td>\n   <td style=\"text-align:right;\"> 0.2000399 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-03-25 </td>\n   <td style=\"text-align:right;\"> 144.5 </td>\n   <td style=\"text-align:right;\"> -13.5 </td>\n   <td style=\"text-align:right;\"> 29.04090 </td>\n   <td style=\"text-align:right;\"> 34.75312 </td>\n   <td style=\"text-align:right;\"> -0.4569216 </td>\n   <td style=\"text-align:right;\"> 0.3603792 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-13 </td>\n   <td style=\"text-align:right;\"> 151.5 </td>\n   <td style=\"text-align:right;\"> -21.5 </td>\n   <td style=\"text-align:right;\"> 28.41784 </td>\n   <td style=\"text-align:right;\"> 35.25340 </td>\n   <td style=\"text-align:right;\"> -0.0951453 </td>\n   <td style=\"text-align:right;\"> 0.0155211 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-04-01 </td>\n   <td style=\"text-align:right;\"> 143.5 </td>\n   <td style=\"text-align:right;\"> -12.5 </td>\n   <td style=\"text-align:right;\"> 30.14290 </td>\n   <td style=\"text-align:right;\"> 34.44403 </td>\n   <td style=\"text-align:right;\"> 0.0250692 </td>\n   <td style=\"text-align:right;\"> -0.0175750 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-04-21 </td>\n   <td style=\"text-align:right;\"> 143.5 </td>\n   <td style=\"text-align:right;\"> -9.5 </td>\n   <td style=\"text-align:right;\"> 29.56355 </td>\n   <td style=\"text-align:right;\"> 34.19133 </td>\n   <td style=\"text-align:right;\"> 0.0587259 </td>\n   <td style=\"text-align:right;\"> 0.0340937 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-05 </td>\n   <td style=\"text-align:right;\"> 152.5 </td>\n   <td style=\"text-align:right;\"> -23.5 </td>\n   <td style=\"text-align:right;\"> 25.64322 </td>\n   <td style=\"text-align:right;\"> 35.22873 </td>\n   <td style=\"text-align:right;\"> 0.0303043 </td>\n   <td style=\"text-align:right;\"> 0.0149218 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-06 </td>\n   <td style=\"text-align:right;\"> 146.5 </td>\n   <td style=\"text-align:right;\"> -16.5 </td>\n   <td style=\"text-align:right;\"> 29.13773 </td>\n   <td style=\"text-align:right;\"> 34.69858 </td>\n   <td style=\"text-align:right;\"> -0.1224007 </td>\n   <td style=\"text-align:right;\"> -0.1002772 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-01-06 </td>\n   <td style=\"text-align:right;\"> 151.5 </td>\n   <td style=\"text-align:right;\"> -23.5 </td>\n   <td style=\"text-align:right;\"> 28.12745 </td>\n   <td style=\"text-align:right;\"> 35.40966 </td>\n   <td style=\"text-align:right;\"> -0.0329330 </td>\n   <td style=\"text-align:right;\"> 0.0152895 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2022-02-02 </td>\n   <td style=\"text-align:right;\"> 146.5 </td>\n   <td style=\"text-align:right;\"> -17.5 </td>\n   <td style=\"text-align:right;\"> 30.58525 </td>\n   <td style=\"text-align:right;\"> 34.71669 </td>\n   <td style=\"text-align:right;\"> 0.1280997 </td>\n   <td style=\"text-align:right;\"> -0.0543357 </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n:::\n\n\n\n\n## Matching extracted data to tracking data\n\nWe will match up the eReefs data with our tracking detections by combining the two datasets based on common\ndate, longitude and latitude values.\n\n\n\n::: {#tbl-combined-data .cell tbl-cap='Loggerhead Sea Turtle tracking detections (Strydom, 2022) and corresponding eReefs daily mean temperature, salinity, east- and northward current velocities (u, v respectively).'}\n\n```{.r .cell-code}\n# Ensure common variables date, lon and lat between the two datasets\nextracted_data <- extracted_data |>\n  rename(longitude = lon, latitude = lat)\nloggerhead_data <- loggerhead_data |>\n  mutate(date = as_date(date_time))\n\n# Merge the two datasets based on common date, lon and lat values\ncombined_data <- merge(\n  loggerhead_data, extracted_data,\n  by = c(\"date\", \"longitude\", \"latitude\")\n) |> select(-date)\n\n# Print the combined data\ncombined_data |> kable() |> kable_styling() |>  scroll_box(height = \"300px\", fixed_thead = TRUE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; \"><table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> longitude </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> latitude </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> date_time </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> record_id </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> species </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> temp </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> salt </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> u </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> v </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 152.5 </td>\n   <td style=\"text-align:right;\"> -24.5 </td>\n   <td style=\"text-align:left;\"> 2021-12-21 17:57:22 </td>\n   <td style=\"text-align:right;\"> 4022992328 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 28.09089 </td>\n   <td style=\"text-align:right;\"> 35.25638 </td>\n   <td style=\"text-align:right;\"> 0.0713334 </td>\n   <td style=\"text-align:right;\"> -0.0199901 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 153.5 </td>\n   <td style=\"text-align:right;\"> -25.5 </td>\n   <td style=\"text-align:left;\"> 2022-01-02 21:49:55 </td>\n   <td style=\"text-align:right;\"> 4022992329 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 26.00014 </td>\n   <td style=\"text-align:right;\"> 35.29583 </td>\n   <td style=\"text-align:right;\"> -0.0353987 </td>\n   <td style=\"text-align:right;\"> 0.0375804 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 152.5 </td>\n   <td style=\"text-align:right;\"> -23.5 </td>\n   <td style=\"text-align:left;\"> 2022-01-05 07:33:53 </td>\n   <td style=\"text-align:right;\"> 4022992304 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 25.64322 </td>\n   <td style=\"text-align:right;\"> 35.22873 </td>\n   <td style=\"text-align:right;\"> 0.0303043 </td>\n   <td style=\"text-align:right;\"> 0.0149218 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 151.5 </td>\n   <td style=\"text-align:right;\"> -23.5 </td>\n   <td style=\"text-align:left;\"> 2022-01-06 05:03:23 </td>\n   <td style=\"text-align:right;\"> 4022992302 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 28.12745 </td>\n   <td style=\"text-align:right;\"> 35.40966 </td>\n   <td style=\"text-align:right;\"> -0.0329330 </td>\n   <td style=\"text-align:right;\"> 0.0152895 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 151.5 </td>\n   <td style=\"text-align:right;\"> -22.5 </td>\n   <td style=\"text-align:left;\"> 2022-01-09 20:25:01 </td>\n   <td style=\"text-align:right;\"> 4022992319 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 29.24492 </td>\n   <td style=\"text-align:right;\"> 35.33996 </td>\n   <td style=\"text-align:right;\"> 0.0007144 </td>\n   <td style=\"text-align:right;\"> -0.1032533 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 151.5 </td>\n   <td style=\"text-align:right;\"> -21.5 </td>\n   <td style=\"text-align:left;\"> 2022-01-13 06:28:09 </td>\n   <td style=\"text-align:right;\"> 4022992308 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 28.41784 </td>\n   <td style=\"text-align:right;\"> 35.25340 </td>\n   <td style=\"text-align:right;\"> -0.0951453 </td>\n   <td style=\"text-align:right;\"> 0.0155211 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 150.5 </td>\n   <td style=\"text-align:right;\"> -21.5 </td>\n   <td style=\"text-align:left;\"> 2022-01-14 18:26:17 </td>\n   <td style=\"text-align:right;\"> 4022992318 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 28.98728 </td>\n   <td style=\"text-align:right;\"> 35.40287 </td>\n   <td style=\"text-align:right;\"> -0.0638922 </td>\n   <td style=\"text-align:right;\"> -0.0470999 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 150.5 </td>\n   <td style=\"text-align:right;\"> -20.5 </td>\n   <td style=\"text-align:left;\"> 2022-01-17 17:06:32 </td>\n   <td style=\"text-align:right;\"> 4022992330 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 29.39174 </td>\n   <td style=\"text-align:right;\"> 35.33709 </td>\n   <td style=\"text-align:right;\"> -0.0659649 </td>\n   <td style=\"text-align:right;\"> -0.1778789 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 149.5 </td>\n   <td style=\"text-align:right;\"> -20.5 </td>\n   <td style=\"text-align:left;\"> 2022-01-19 17:44:38 </td>\n   <td style=\"text-align:right;\"> 4022992320 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 29.91821 </td>\n   <td style=\"text-align:right;\"> 35.47683 </td>\n   <td style=\"text-align:right;\"> 0.0181383 </td>\n   <td style=\"text-align:right;\"> -0.1044010 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 149.5 </td>\n   <td style=\"text-align:right;\"> -19.5 </td>\n   <td style=\"text-align:left;\"> 2022-01-21 07:22:08 </td>\n   <td style=\"text-align:right;\"> 4022992316 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 29.57756 </td>\n   <td style=\"text-align:right;\"> 35.11963 </td>\n   <td style=\"text-align:right;\"> -0.1611882 </td>\n   <td style=\"text-align:right;\"> -0.0347497 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 148.5 </td>\n   <td style=\"text-align:right;\"> -19.5 </td>\n   <td style=\"text-align:left;\"> 2022-01-23 07:02:18 </td>\n   <td style=\"text-align:right;\"> 4022992323 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 28.98567 </td>\n   <td style=\"text-align:right;\"> 35.26142 </td>\n   <td style=\"text-align:right;\"> -0.1370672 </td>\n   <td style=\"text-align:right;\"> -0.0219267 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 147.5 </td>\n   <td style=\"text-align:right;\"> -18.5 </td>\n   <td style=\"text-align:left;\"> 2022-01-27 17:00:04 </td>\n   <td style=\"text-align:right;\"> 4022992327 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 29.46284 </td>\n   <td style=\"text-align:right;\"> 33.98060 </td>\n   <td style=\"text-align:right;\"> 0.2652802 </td>\n   <td style=\"text-align:right;\"> 0.0044857 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 146.5 </td>\n   <td style=\"text-align:right;\"> -18.5 </td>\n   <td style=\"text-align:left;\"> 2022-01-30 17:02:42 </td>\n   <td style=\"text-align:right;\"> 4022992314 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 30.14936 </td>\n   <td style=\"text-align:right;\"> 34.59603 </td>\n   <td style=\"text-align:right;\"> -0.1835063 </td>\n   <td style=\"text-align:right;\"> 0.1426468 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 146.5 </td>\n   <td style=\"text-align:right;\"> -17.5 </td>\n   <td style=\"text-align:left;\"> 2022-02-02 09:14:56 </td>\n   <td style=\"text-align:right;\"> 4022992301 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 30.58525 </td>\n   <td style=\"text-align:right;\"> 34.71669 </td>\n   <td style=\"text-align:right;\"> 0.1280997 </td>\n   <td style=\"text-align:right;\"> -0.0543357 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 153.5 </td>\n   <td style=\"text-align:right;\"> -24.5 </td>\n   <td style=\"text-align:left;\"> 2022-02-03 21:37:56 </td>\n   <td style=\"text-align:right;\"> 4022992313 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 27.06327 </td>\n   <td style=\"text-align:right;\"> 35.32142 </td>\n   <td style=\"text-align:right;\"> 0.5498420 </td>\n   <td style=\"text-align:right;\"> -0.7972959 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 146.5 </td>\n   <td style=\"text-align:right;\"> -16.5 </td>\n   <td style=\"text-align:left;\"> 2022-02-06 18:25:38 </td>\n   <td style=\"text-align:right;\"> 4022992303 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 29.13773 </td>\n   <td style=\"text-align:right;\"> 34.69858 </td>\n   <td style=\"text-align:right;\"> -0.1224007 </td>\n   <td style=\"text-align:right;\"> -0.1002772 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 145.5 </td>\n   <td style=\"text-align:right;\"> -16.5 </td>\n   <td style=\"text-align:left;\"> 2022-02-07 07:15:30 </td>\n   <td style=\"text-align:right;\"> 4022992310 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 30.37080 </td>\n   <td style=\"text-align:right;\"> 34.06056 </td>\n   <td style=\"text-align:right;\"> -0.1037723 </td>\n   <td style=\"text-align:right;\"> 0.2000399 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 145.5 </td>\n   <td style=\"text-align:right;\"> -15.5 </td>\n   <td style=\"text-align:left;\"> 2022-02-09 18:33:03 </td>\n   <td style=\"text-align:right;\"> 4022992311 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 29.54386 </td>\n   <td style=\"text-align:right;\"> 34.74210 </td>\n   <td style=\"text-align:right;\"> -0.1198241 </td>\n   <td style=\"text-align:right;\"> 0.0636992 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 145.5 </td>\n   <td style=\"text-align:right;\"> -14.5 </td>\n   <td style=\"text-align:left;\"> 2022-02-12 10:34:12 </td>\n   <td style=\"text-align:right;\"> 4022992325 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 29.89639 </td>\n   <td style=\"text-align:right;\"> 34.71634 </td>\n   <td style=\"text-align:right;\"> -0.0812021 </td>\n   <td style=\"text-align:right;\"> 0.0344770 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 153.5 </td>\n   <td style=\"text-align:right;\"> -26.5 </td>\n   <td style=\"text-align:left;\"> 2022-02-12 08:59:01 </td>\n   <td style=\"text-align:right;\"> 4022992324 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 26.79947 </td>\n   <td style=\"text-align:right;\"> 35.38062 </td>\n   <td style=\"text-align:right;\"> -0.1235716 </td>\n   <td style=\"text-align:right;\"> 0.0057869 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 144.5 </td>\n   <td style=\"text-align:right;\"> -13.5 </td>\n   <td style=\"text-align:left;\"> 2022-03-25 07:10:49 </td>\n   <td style=\"text-align:right;\"> 4022992309 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 29.04090 </td>\n   <td style=\"text-align:right;\"> 34.75312 </td>\n   <td style=\"text-align:right;\"> -0.4569216 </td>\n   <td style=\"text-align:right;\"> 0.3603792 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 143.5 </td>\n   <td style=\"text-align:right;\"> -12.5 </td>\n   <td style=\"text-align:left;\"> 2022-04-01 18:41:42 </td>\n   <td style=\"text-align:right;\"> 4022992307 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 30.14290 </td>\n   <td style=\"text-align:right;\"> 34.44403 </td>\n   <td style=\"text-align:right;\"> 0.0250692 </td>\n   <td style=\"text-align:right;\"> -0.0175750 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 143.5 </td>\n   <td style=\"text-align:right;\"> -11.5 </td>\n   <td style=\"text-align:left;\"> 2022-04-09 22:00:54 </td>\n   <td style=\"text-align:right;\"> 4022992317 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 29.93064 </td>\n   <td style=\"text-align:right;\"> 34.55591 </td>\n   <td style=\"text-align:right;\"> -0.0967079 </td>\n   <td style=\"text-align:right;\"> 0.1442562 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 143.5 </td>\n   <td style=\"text-align:right;\"> -10.5 </td>\n   <td style=\"text-align:left;\"> 2022-04-14 06:31:48 </td>\n   <td style=\"text-align:right;\"> 4022992321 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 29.47597 </td>\n   <td style=\"text-align:right;\"> 34.41768 </td>\n   <td style=\"text-align:right;\"> -0.0409690 </td>\n   <td style=\"text-align:right;\"> 0.0776469 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 143.5 </td>\n   <td style=\"text-align:right;\"> -9.5 </td>\n   <td style=\"text-align:left;\"> 2022-04-21 10:30:09 </td>\n   <td style=\"text-align:right;\"> 4022992305 </td>\n   <td style=\"text-align:left;\"> Caretta caretta </td>\n   <td style=\"text-align:right;\"> 29.56355 </td>\n   <td style=\"text-align:right;\"> 34.19133 </td>\n   <td style=\"text-align:right;\"> 0.0587259 </td>\n   <td style=\"text-align:right;\"> 0.0340937 </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n:::\n\n\n\nHooray! We now have our combined dataset of the Loggerhead Sea Turtle tracking detections and the\ncorresponding eReefs daily aggregated data (@tbl-combined-data).\n\n\n\n\n<br><br><br><br><br><br><br><br><br><br><br>\nStrydom A. 2022. Wreck Rock Turtle Care - satellite tracking. Data downloaded from\n[OBIS-SEAMAP](http://seamap.env.duke.edu/dataset/2178); originated from\n[Satellite Tracking and Analysis Tool (STAT)](http://www.seaturtle.org/tracking/index.shtml?project_id=1381).\n[DOI: 10.15468/k4s6ap](https://doi.org/10.15468/k4s6ap) accessed via [GBIF.org](https://www.gbif.org/) on 2023-02-17.\n",
    "supporting": [
      "programmatic_server_access_r_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\n<script src=\"../../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"../../../../site_libs/leaflet-1.3.1/leaflet.css\" rel=\"stylesheet\" />\n<script src=\"../../../../site_libs/leaflet-1.3.1/leaflet.js\"></script>\n<link href=\"../../../../site_libs/leafletfix-1.0.0/leafletfix.css\" rel=\"stylesheet\" />\n<script src=\"../../../../site_libs/proj4-2.6.2/proj4.min.js\"></script>\n<script src=\"../../../../site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js\"></script>\n<link href=\"../../../../site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css\" rel=\"stylesheet\" />\n<script src=\"../../../../site_libs/leaflet-binding-2.2.0/leaflet.js\"></script>\n<script src=\"../../../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}